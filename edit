// Sidebar.jsx
import React from "react";
import { Link } from "react-router-dom";

const Sidebar = ({ isOpen }) => {
  return (
    <div
      className={`bg-gray-900 text-white fixed top-0 left-0 h-full w-64 transform ${
        isOpen ? "translate-x-0" : "-translate-x-full"
      } transition-transform duration-300 ease-in-out z-50`}
    >
      <div className="p-6 font-bold text-xl border-b border-gray-700">
        Admin Menu
      </div>
      <ul className="mt-4 space-y-4 p-4">
        <li>
          <Link to="/products" className="hover:text-yellow-400">Product Management</Link>
        </li>
        <li>
          <Link to="/orders" className="hover:text-yellow-400">Order Management</Link>
        </li>
        <li>
          <Link to="/users" className="hover:text-yellow-400">User Management</Link>
        </li>
      </ul>
    </div>
  );
};

export default Sidebar;
// Navbar.jsx
import React from "react";
import { Link, useNavigate } from "react-router-dom";
import { Menu } from "lucide-react";

const Navbar = ({ toggleSidebar }) => {
  const navigate = useNavigate();

  const handleLogout = () => {
    localStorage.removeItem("jwtToken");
    navigate("/login");
  };

  return (
    <nav className="bg-gray-800 text-white p-4 shadow-md flex justify-between items-center">
      <div className="flex items-center space-x-4">
        <button onClick={toggleSidebar}>
          <Menu size={24} className="hover:text-yellow-400" />
        </button>
        <Link to="/dashboard" className="text-xl font-bold hover:text-yellow-400">
          Admin Panel
        </Link>
      </div>
      <div className="space-x-6 hidden md:flex">
        <Link to="/dashboard" className="hover:text-yellow-400">Dashboard</Link>
        <Link to="/users" className="hover:text-yellow-400">Users</Link>
        <Link to="/products" className="hover:text-yellow-400">Products</Link>
        <Link to="/orders" className="hover:text-yellow-400">Orders</Link>
        <button
          onClick={handleLogout}
          className="ml-4 bg-red-600 px-3 py-1 rounded hover:bg-red-700"
        >
          Logout
        </button>
      </div>
    </nav>
  );
};

export default Navbar;

// Dashboard.jsx (snippet)
import React, { useEffect, useState } from "react";
import axios from "axios";
import Navbar from "./Navbar";
import Sidebar from "./Sidebar";
import AnalyticsChart from "./AnalyticsChart";
// ... icons and classes

const Dashboard = () => {
  const [isSidebarOpen, setSidebarOpen] = useState(false);
  const [analytics, setAnalytics] = useState({ users: 0, products: 0, orders: 0, admins: 0 });

  const toggleSidebar = () => setSidebarOpen(!isSidebarOpen);

  const token = localStorage.getItem("jwtToken");

  useEffect(() => {
    const fetchAnalytics = async () => {
      try {
        const response = await axios.get("https://localhost:7162/api/Admin/Analytics", {
          headers: { Authorization: `Bearer ${token}` },
        });
        setAnalytics(response.data);
      } catch (error) {
        console.error("Failed to fetch analytics:", error);
      }
    };

    fetchAnalytics();
  }, [token]);

  return (
    <div className="flex">
      <Sidebar isOpen={isSidebarOpen} />
      <div className="flex-1 ml-0 md:ml-64">
        <Navbar toggleSidebar={toggleSidebar} />
        <div className="p-8">
          <h1 className="text-3xl font-bold mb-6 text-gray-800">Admin Dashboard</h1>
          {/* Cards + Chart */}
          {/* ...Your existing dashboard content */}
        </div>
      </div>
    </div>
  );
};

export default Dashboard;
/* Container for sidebar and main content */
.app-container {
  display: flex;
}

/* Sidebar styles */
.sidebar {
  width: 250px;
  background-color: #2c3e50;
  color: white;
  height: 100vh;
  padding: 20px;
  transition: transform 0.3s ease;
}

.sidebar.hidden {
  transform: translateX(-100%);
  position: absolute;
  top: 0;
  left: 0;
}

/* Sidebar menu items */
.sidebar h2 {
  font-size: 24px;
  margin-bottom: 20px;
}

.sidebar a {
  display: block;
  color: white;
  padding: 10px 0;
  text-decoration: none;
  transition: background 0.3s ease;
}

.sidebar a:hover {
  background-color: #34495e;
}

/* Hamburger button */
.hamburger {
  position: absolute;
  top: 20px;
  left: 20px;
  background-color: #2c3e50;
  color: white;
  border: none;
  padding: 10px 15px;
  font-size: 20px;
  cursor: pointer;
  z-index: 1000;
}

/* Main content */
.main-content {
  flex: 1;
  padding: 20px;
  margin-left: 250px;
  transition: margin-left 0.3s ease;
}

.sidebar.hidden + .main-content {
  margin-left: 0;
}
